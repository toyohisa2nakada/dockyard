<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nutr!M!!</title>
    <style>
        body {
            margin: 0;
            font-family: "Helvetica Neue", sans-serif;
            /* èƒŒæ™¯ç”»åƒ */
            background-image: url("https://png.pngtree.com/background/20250115/original/pngtree-a-frame-with-food-picture-image_13244535.jpg");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            /* æš—ã‚ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã§æ–‡å­—ã‚’èª­ã¿ã‚„ã™ã */
            background-color: rgba(0, 0, 0, 0.65);
            background-blend-mode: overlay;
            color: #eaeaea;
        }

        .screen {
            display: none;
            min-height: 100vh;
            padding: 24px;
            box-sizing: border-box;
            position: relative;
            z-index: 10;
            overflow-y: auto;
        }

        .active {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        h1 {
            font-size: 28px;
            text-align: center;
            margin-top: 40px;
        }

        p {
            text-align: center;
            opacity: 0.9;
        }

        button {
            pointer-events: auto;
            width: 100%;
            padding: 14px;
            margin-top: 24px;
            background: #1e90ff;
            color: #fff;
            border: none;
            border-radius: 12px;
            font-size: 16px;
        }

        .card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 16px;
            margin-top: 16px;
        }

        label {
            display: block;
            margin: 8px 0;
        }

        .butterfly {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 60px;
            opacity: 0.8;
            animation: float 4s ease-in-out infinite;
        }

        @keyframes float {
            0% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-12px);
            }

            100% {
                transform: translateY(0);
            }
        }

        .coin {
            margin-top: 20px;
            font-size: 18px;
            text-align: center;
            color: #9fd3ff;
        }

        #rewardText {
            margin-top: 12px;
            text-align: center;
            font-size: 14px;
            color: #cce6ff;
        }

        .scroll-hint {
            margin-top: 32px;
            margin-bottom: 40px;
            font-size: 13px;
            opacity: 0.7;
            text-align: center;
            animation: fadeMove 2s ease-in-out infinite;
        }

        @keyframes fadeMove {
            0% {
                opacity: 0.4;
                transform: translateY(0);
            }

            50% {
                opacity: 0.8;
                transform: translateY(6px);
            }

            100% {
                opacity: 0.4;
                transform: translateY(0);
            }
        }

        .reward-fixed-hint {
            position: fixed;
            bottom: 12px;
            left: 50%;
            transform: translateX(-50%);
            padding: 8px 14px;
            font-size: 13px;
            background: rgba(30, 144, 255, 0.15);
            border: 1px dashed #3a6ea5;
            border-radius: 12px;
            color: #cce6ff;
            opacity: 0.9;
            z-index: 100;
            pointer-events: none;
        }
    </style>
</head>

<body> <!-- ãƒˆãƒƒãƒ—ç”»é¢ -->
    <div id="screen1" class="screen active">
        <h1>Nutr!M!!</h1>
        <p>ãŠãªã‹ã™ã„ã¦ã‚‹ã‚“ã˜ã‚ƒãªã„ï¼Ÿ<br>ä»Šã€ä½•é£Ÿã¹ãŸã„ã®ï¼Ÿ</p> <button onclick="goToInput()">ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
    </div> <!-- å…¥åŠ›ç”»é¢ -->
    <div id="screen2" class="screen">
        <h1>ã„ã¾ã®çŠ¶æ…‹</h1>
        <div class="card"> <strong>é£Ÿã¹ãŸã„ã‚‚ã®</strong> <label><input type="checkbox" value="sweet"> ç”˜ã„</label> <label><input
                    type="checkbox" value="salty"> ã—ã‚‡ã£ã±ã„</label> <label><input type="checkbox" value="rich">
                ã“ã£ã¦ã‚Š</label> <label><input type="checkbox" value="light"> ã•ã£ã±ã‚Š</label> </div>
        <div class="card"> <strong>ä»Šã®çŠ¶æ…‹</strong> <label><input type="checkbox" value="tired"> ç–²ã‚Œã¦ã„ã‚‹</label>
            <label><input type="checkbox" value="stress"> ã‚¹ãƒˆãƒ¬ã‚¹ãŒã‚ã‚‹</label> <label><input type="checkbox" value="late">
                å¤œé…ã„</label> <label><input type="checkbox" value="down"> æ°—åˆ†ãŒè½ã¡ã¦ã„ã‚‹</label> </div> <button
            onclick="analyze()">çµæœã‚’è¦‹ã‚‹</button>
    </div> <!-- çµæœç”»é¢ -->
    <div id="screen3" class="screen">
        <h1>åˆ†æçµæœ</h1>
        <p id="resultText"></p>
        <p id="nutrientText"></p>
        <div class="coin">ğŸ ãƒ•ãƒ¼ãƒ‰ã‚³ã‚¤ãƒ³ +3 ç²å¾—ï¼</div>
        <div id="totalCoin" class="coin"></div> <button onclick="location.reload()">ã‚‚ã†ä¸€åº¦</button> <button
            onclick="showLogs()">ãƒ­ã‚°ã‚’è¦‹ã‚‹</button>
        <pre id="logArea" style="white-space: pre-wrap; margin-top:16px; font-size:14px;"></pre>
    </div>
    <div class="card"> <strong>ğŸ ã”è¤’ç¾</strong>
        <p>ãƒ•ãƒ¼ãƒ‰ã‚³ã‚¤ãƒ³ã‚’ä½¿ã£ã¦ã€ã¡ã‚‡ã£ã¨ã—ãŸã”è¤’ç¾ã‚’è§£æ”¾ã§ãã¾ã™</p> <button onclick="getReward()">ã”è¤’ç¾ã‚’ã‚‚ã‚‰ã†ï¼ˆ5ã‚³ã‚¤ãƒ³ï¼‰</button>
        <p id="rewardText"></p>
    </div>
    <div class="card"> <strong>ğŸ›’ ã”è¤’ç¾ã‚·ãƒ§ãƒƒãƒ—</strong>
        <p>ä»Šã®æ°—åˆ†ã«åˆã†ã”è¤’ç¾ã‚’é¸ã‚“ã§ã­</p> <button onclick="buyReward(3)">â˜• ã²ã¨æ¯ã¤ãï¼ˆ3ã‚³ã‚¤ãƒ³ï¼‰</button> <button onclick="buyReward(5)">ğŸ›
            ã‚†ã£ãã‚Šä¼‘ã‚€ï¼ˆ5ã‚³ã‚¤ãƒ³ï¼‰</button> <button onclick="buyReward(8)">ğŸŒ™ ä»Šæ—¥ã¯æ—©ãå¯ã¦ã„ã„ï¼ˆ8ã‚³ã‚¤ãƒ³ï¼‰</button>
        <p id="shopMessage"></p>
    </div>
    <script> function goToInput() { document.getElementById("screen1").classList.remove("active"); document.getElementById("screen2").classList.add("active"); } function analyze() {
            const checked = document.querySelectorAll("input:checked"); const foods = []; const states = []; checked.forEach(c => { if (["sweet", "salty", "rich", "light"].includes(c.value)) { foods.push(c.value); } else { states.push(c.value); } }); let text = "ä»Šå›ã®å…¥åŠ›ã‹ã‚‰ã€"; let nutrient = ""; if (states.includes("stress")) {
                text += "ã‚¹ãƒˆãƒ¬ã‚¹ã«ã‚ˆã‚‹ã‚¨ãƒãƒ«ã‚®ãƒ¼æ¬²æ±‚ãŒé«˜ã„çŠ¶æ…‹ã¨è€ƒãˆã‚‰ã‚Œã¾ã™ã€‚"; nutrient = "ä¸è¶³ã—ãŒã¡ãªæ „é¤Šç´ ï¼šãƒã‚°ãƒã‚·ã‚¦ãƒ ãƒ»ãƒ“ã‚¿ãƒŸãƒ³Bç¾¤";
            } else if (states.includes("tired")) { text += "ç–²åŠ´å›å¾©ã‚’æ±‚ã‚ã¦ã„ã‚‹çŠ¶æ…‹ã¨è€ƒãˆã‚‰ã‚Œã¾ã™ã€‚"; nutrient = "ä¸è¶³ã—ãŒã¡ãªæ „é¤Šç´ ï¼šé‰„åˆ†ãƒ»ãŸã‚“ã±ãè³ª"; } else { text += "è»½ã„æ°—åˆ†è»¢æ›ã‚’æ±‚ã‚ã¦ã„ã‚‹çŠ¶æ…‹ã¨è€ƒãˆã‚‰ã‚Œã¾ã™ã€‚"; nutrient = "ä¸è¶³ã—ãŒã¡ãªæ „é¤Šç´ ï¼šãƒ“ã‚¿ãƒŸãƒ³C"; }
            // ===== ãƒ­ã‚°ä¿å­˜å‡¦ç† ===== 
            const log = { date: new Date().toLocaleString(), foods: foods, states: states, result: text }; const logs = JSON.parse(localStorage.getItem("nutrim_logs")) || []; logs.push(log); localStorage.setItem("nutrim_logs", JSON.stringify(logs));
            // ===== ã‚³ã‚¤ãƒ³åŠ ç®—å‡¦ç† ===== 
            let coin = Number(localStorage.getItem("nutrim_coin")) || 0; coin += 3; localStorage.setItem("nutrim_coin", coin);
            // ========================== 
            // ======================= 
            document.getElementById("resultText").innerText = text; document.getElementById("nutrientText").innerText = nutrient; document.getElementById("screen2").classList.remove("active"); document.getElementById("screen3").classList.add("active");
        } function showLogs() { const logs = JSON.parse(localStorage.getItem("nutrim_logs")) || []; let text = ""; logs.forEach((log, index) => { text += `ã€${index + 1}å›ç›®ã€‘\n`; text += `æ—¥æ™‚ï¼š${log.date}\n`; text += `é£Ÿã¹ãŸã„ï¼š${log.foods.join(", ")}\n`; text += `çŠ¶æ…‹ï¼š${log.states.join(", ")}\n`; text += `${log.result}\n\n`; }); document.getElementById("logArea").innerText = text || "ã¾ã ãƒ­ã‚°ãŒã‚ã‚Šã¾ã›ã‚“"; } function showCoin() { const coin = Number(localStorage.getItem("nutrim_coin")) || 0; document.getElementById("totalCoin").innerText = `ğŸ ç¾åœ¨ã®ãƒ•ãƒ¼ãƒ‰ã‚³ã‚¤ãƒ³ï¼š${coin}`; }
        showCoin(); function getReward() {
            let coin = Number(localStorage.getItem("nutrim_coin")) || 0; if (coin < 5) { document.getElementById("rewardText").innerText = "ã‚³ã‚¤ãƒ³ãŒè¶³ã‚Šã¾ã›ã‚“ã€‚ã‚‚ã†å°‘ã—è¨˜éŒ²ã—ã¦ã¿ã¾ã—ã‚‡ã†ğŸŒ±"; return; } coin -= 5; localStorage.setItem("nutrim_coin", coin); const rewards = ["ä»Šæ—¥ã¯ç„¡ç†ã—ãªãã¦ã„ã„æ—¥ã€‚æ—©ã‚ã«ä¼‘ã‚‚ã†ã€‚", "æ¸©ã‹ã„é£²ã¿ç‰©ã‚’é£²ã‚“ã§ã€æ·±å‘¼å¸ã—ã¦ã¿ã¦ã€‚", "é ‘å¼µã£ã¦ã‚‹è‡ªåˆ†ã‚’ã¡ã‚ƒã‚“ã¨è¤’ã‚ã¦ã‚ã’ã¦ã€‚", "ã‚¹ãƒãƒ›ã‚’ç½®ã„ã¦ã€1åˆ†ã ã‘ç›®ã‚’é–‰ã˜ã¦ã¿ã‚ˆã†ã€‚"]; const message = rewards[Math.floor(Math.random() * rewards.length)]; document.getElementById("rewardText").innerText = message; showCoin();
            // ã‚³ã‚¤ãƒ³è¡¨ç¤ºæ›´æ–° 
        } function buyReward(cost) {
            let coin = Number(localStorage.getItem("nutrim_coin")) || 0; const messageArea = document.getElementById("shopMessage"); if (coin < cost) { messageArea.innerText = "ã‚³ã‚¤ãƒ³ãŒè¶³ã‚Šã¾ã›ã‚“ã€‚ã‚‚ã†å°‘ã—è¨˜éŒ²ã—ã¦ã¿ã¾ã—ã‚‡ã†ğŸŒ±"; return; } coin -= cost; localStorage.setItem("nutrim_coin", coin); const rewardMap = { 3: "æ¸©ã‹ã„é£²ã¿ç‰©ã§ã€å°‘ã—è‚©ã®åŠ›ã‚’æŠœã“ã†ã€‚", 5: "ä»Šæ—¥ã¯é ‘å¼µã£ãŸæ—¥ã€‚ã‚†ã£ãã‚Šä¼‘ã‚“ã§ã­ã€‚", 8: "ã‚‚ã†ååˆ†ã‚„ã£ãŸã‚ˆã€‚ä»Šæ—¥ã¯æ—©ãå¯ã¦OKã€‚" }; messageArea.innerText = rewardMap[cost]; showCoin();
            // ã‚³ã‚¤ãƒ³è¡¨ç¤ºæ›´æ–° 
        } </script>
    <div class="reward-fixed-hint"> â†“ã€€ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹ã¨ä½•ã‹ã„ã„ã“ã¨ãŒã‚ã‚‹ã‹ã‚‚ï¼Ÿ </div>
</body>

</html>